<div class="dashboard-container" style="padding: 20px; background: #f5f5f5; min-height: 100vh;">
  <h1 style="text-align: center; margin-bottom: 20px;">Xuất / Nhập Sách</h1>
  <nz-row nzGutter="16">
    <!-- Cột trái: 6/24 (tương đương 3/12) -->
    <nz-col [nzSpan]="6">
      <nz-card style="margin-bottom: 16px;">
        <nz-statistic [nzValue]="totalStock" nzTitle="Tổng sách tồn"></nz-statistic>
      </nz-card>
      <nz-card style="margin-bottom: 16px;">
        <nz-statistic [nzValue]="totalUsers" nzTitle="Tổng người dùng"></nz-statistic>
      </nz-card>
      <nz-card style="margin-bottom: 16px;">
        <nz-statistic [nzValue]="totalImport" nzTitle="Tổng sách nhập"></nz-statistic>
      </nz-card>
      <nz-card>
        <nz-statistic [nzValue]="totalExport" nzTitle="Tổng sách xuất"></nz-statistic>
      </nz-card>
    </nz-col>
    <!-- Cột phải: 18/24 (tương đương 9/12) -->
    <nz-col [nzSpan]="18">
      <!-- Card biểu đồ -->
      <nz-card [nzTitle]="chartTitleTemplate" style="margin-bottom: 16px;">
        <apx-chart
          [series]="chartSeries"
          [chart]="chartOptions.chart"
          [xaxis]="chartOptions.xaxis"
          [dataLabels]="chartOptions.dataLabels"
          [plotOptions]="chartOptions.plotOptions"
          [colors]="chartOptions.colors"
        ></apx-chart> <!-- Đảm bảo thẻ được đóng đúng -->
      </nz-card>
      <!-- Card table -->
      <nz-card nzTitle="Danh sách sách">
        <nz-table #basicTable [nzData]="booksData" [nzShowPagination]="false">
          <thead>
            <tr>
              <th>STT</th>
              <th>Tên sách</th>
              <th>Lượng xuất</th>
              <th>Lượng còn lại</th>
              <th>Đơn giá (VND)</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of basicTable.data; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ data.title }}</td>
              <td>{{ data.export }}</td>
              <td>{{ data.stock }}</td>
              <td>{{ data.price | number }}</td>
              <td>
                <nz-tag [nzColor]="data.stock > 0 ? 'green' : 'yellow'">
                  {{ data.stock > 0 ? 'Available' : 'Out of stock' }}
                </nz-tag>
              </td>
            </tr>
          </tbody>
        </nz-table>
      </nz-card>
    </nz-col>
  </nz-row>
</div>

<ng-template #chartTitleTemplate>
  Lượng xuất / nhập năm:
  <nz-select [(ngModel)]="selectedYear" style="margin-left: 8px; width: 120px;">
    <nz-option [nzValue]="2025" nzLabel="2025"></nz-option>
  </nz-select>
</ng-template>